<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog/1.9"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog/1.9 http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-1.9.xsd">

     <changeSet author="drodrigues" id="2012-08-29-14122-10" dbms="postgresql" failOnError="false">
        <comment>Indexes for the tables used in the view_discrepancy_notes query.</comment>
        <sql splitStatements="true">
<![CDATA[
create index discrepancy_note_idx_entity_type on discrepancy_note(entity_type);
create index discrepancy_note_idx_parent on discrepancy_note(discrepancy_note_id) where ((parent_dn_id is null) or (parent_dn_id = 0));
create index study_subject_idx_study on study_subject(study_id);
create index event_definition_crf_idx_study_event_definition on event_definition_crf(study_event_definition_id);
create index study_event_idx_study_event_definition on study_event(study_event_definition_id);
create index event_definition_crf_idx_crf on event_definition_crf(crf_id);
create index crf_version_idx_crf on crf_version(crf_id);
create index event_definition_crf_idx_parent_null on event_definition_crf(parent_id) where (parent_id is null);
create index event_definition_crf_idx_parent_zero on event_definition_crf(parent_id) where (parent_id is not null or parent_id <> 0);
]]>
        </sql>
    </changeSet>
     
     <!-- 
     ==================================================
     ==========        SHARED QUERIES        ==========
     ==================================================
      -->
</databaseChangeLog>